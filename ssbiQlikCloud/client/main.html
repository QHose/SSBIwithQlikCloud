<!-- LAYOUT TEMPLATE -->

<body>
    {{> mainLayout}}
</body>

<template name="mainLayout">
    <div class="ui grid" style="margin: 10px">
        <div class="two wide column">{{> SSBIUsers}}</div>
        <div class="fourteen wide column">
            {{#if show}}
            <h4 class="ui dividing header">Qlik Sense embedded {{ currentUser}}</h4>

            {{> SSBISenseIFrame}}
            {{/if}}
        </div>
    </div>
</template>

<template name="SSBISenseIFrame">
    <div class="IFrameSense">
        <iframe id="SSBIIFrame" class="SSBIIFrame" src="{{url}}"></iframe>
    </div>
</template>


<template name="SSBIUsers">
    <h4 class="ui dividing header" style="left: -13px; margin-top: 0px;">Users from your SaaS platform </h4>
    <div class="ui  grid userList">
        <div class="ui text loader">Logging in {{user}}...</div>>
        {{> userCards}}


        {{#if showSenseButtons}}
        <div class="ui row">
            {{> senseButtons}}
        </div>
        {{/if}}
    </div>


</template>


<template name="userCards">
    <div class="ui vertical menu">
        <div class="item">
            <div class="header">Select a user</div>
            <div id="users" class="menu">
                <a class="consumer item" href="#">John - Consumer - Americas</a>
                <a href="#" class="contributor item">Linda - Contributor - EU/Germany</a>
                <a href="#" class="developer item">Martin - Developer - Whole world</a>
                <a href="#" class="admin item">Paul - Admin</a>
            </div>
        </div>
    </div>

</template>


<template name="senseButtons">
    <h4 class="ui dividing header">Qlik content</h4>

    <div class="ui vertical menu">
        <div class="item">
            <div class="header">Select your app</div>
            <div id="app" class="menu">
                {{#with app1}}
                <a id="app1" class="active item">{{this}}</a>
                {{/with}}
                {{#with app2}}
                <a id="app2" class="item">{{this}}</a>
                {{/with}}
                {{#with app3}}
                <a id="app3" class="item">{{this}}</a>
                {{/with}}
                {{#with app4}}
                <a id="app4" class="item">{{this}}</a>
                {{/with}}
            </div>
        </div>
        <div class="item">
            <div class="header">Select page to embed</div>
            <div id="page" class="menu">
                <a href="#" id="sheetOverview" class="item ">Sheet overview</a>
                <a href="#" id="singleSheet" class="active item ">Single Sheet</a>
            </div>
        </div>
        <div class="item">
            <div class="header">Select page to open in new tab</div>
            <div id="page" class="menu">
                <a href="#" id="hub" class="item">Hub</a>
                <a href="#" id="qmc" class="item">Management console</a>
            </div>
        </div>
    </div>
    <h4 class="ui dividing header">Read more</h4>

    <div class="ui vertical menu">

        <div class="item">
            <!-- <div class="header">Technical background</div> -->
            <div id="page" class="menu">
                <a href="{{JWTIOLink}}" class="item " target="_blank">View JWT contents for current user</a>
                <a href="https://integration.qlik.com/?selection=Fy7zcuGmGpnGwf3wr" class="item "
                    target="_blank">Embedding info</a>
                <a href="https://integration.qlik.com/?selection=7iuJgTWCvddnaLpym" class="item"
                    target="_blank">Security info</a>
            </div>
        </div>
    </div>
</template>